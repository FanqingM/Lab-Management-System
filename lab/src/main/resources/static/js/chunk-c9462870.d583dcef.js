(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9462870"],{"090a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("b",[t._v("用户信息")])])]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",[a("h3",[t._v("用户头像")])]),a("div",{staticClass:"image"},[a("img",{staticClass:"pic",attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}})])]),a("el-col",{attrs:{span:8}},[a("div",[a("h3",[t._v("用户信息")])]),a("div",{attrs:{id:"content"}},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[1==t.isForm?a("div",[a("el-form",{ref:"ruleForm",attrs:{rules:t.rules,model:t.ruleForm,"label-width":"100px","hide-required-asterisk":!0}},[a("el-form-item",{attrs:{label:"工号：",prop:"id"}},[a("el-input",{attrs:{readonly:!0},model:{value:t.ruleForm.id,callback:function(e){t.$set(t.ruleForm,"id",e)},expression:"ruleForm.id"}})],1),a("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[a("el-input",{attrs:{readonly:!0},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"学院：",prop:"schoolName"}},[a("el-select",{attrs:{placeholder:"请选择学院"},model:{value:t.ruleForm.schoolName,callback:function(e){t.$set(t.ruleForm,"schoolName",e)},expression:"ruleForm.schoolName"}},[a("el-option",{attrs:{label:"软件学院",value:"软件学院"}}),a("el-option",{attrs:{label:"土木工程学院",value:"土木工程学院"}}),a("el-option",{attrs:{label:"经济与管理学院",value:"经济与管理学院"}}),a("el-option",{attrs:{label:"数学科学学院",value:"数学科学学院"}}),a("el-option",{attrs:{label:"汽车学院",value:"汽车学院"}})],1)],1)],1)],1):t._e()]),a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[1==t.isTable?a("div",[a("el-table",{staticStyle:{width:"80%","margin-top":"20px"},attrs:{"show-header":!1,data:t.tableData,"cell-style":t.columnStyle,border:""}},[a("el-table-column",{attrs:{width:"180",prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"content",label:"内容"}})],1)],1):t._e()]),1==t.isTable?a("div",{staticClass:"modify"},[a("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("编辑个人信息")])],1):t._e(),1==t.isForm?a("div",{staticClass:"modify"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")]),a("el-button",{on:{click:t.returnback}},[t._v("取消")])],1):t._e()],1)])],1)],1)],1)},l=[],n=(a("b0c0"),a("435a")),r={mounted:function(){var t=this;console.log("获取教师数据",this.$route.query.id),Object(n["n"])(this.$route.query.id).then((function(e){t.ruleForm=e,t.updateData()})).catch((function(e){console.log(e),t.$message("信息获取错误")}))},data:function(){return{ruleForm:{id:"string",name:"string",schoolName:"string",isSeniorTeacher:!0},rules:{},tableData:[{title:"工号",content:""},{title:"姓名",content:""},{title:"学院",content:""}],colleges:[{value:"软件学院",label:"软件学院"},{value:"土木工程学院",label:"土木工程学院"},{value:"经济与管理学院",label:"经济与管理学院"},{value:"数学科学学院",label:"数学科学学院"},{value:"汽车学院",label:"汽车学院"}],isForm:!1,isTable:!0}},methods:{columnStyle:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;return 0==a&&e<2?"background:#FBFBEF; font-weight: 700;":0==a?"background:#EFFBEF; font-weight: 700;":void 0},returnData:function(){this.ruleForm.id=this.tableData[0].content,this.ruleForm.name=this.tableData[1].content,this.ruleForm.schoolName=this.tableData[2].content},updateData:function(){this.tableData[0].content=this.ruleForm.id,this.tableData[1].content=this.ruleForm.name,this.tableData[2].content=this.ruleForm.schoolName},setToDB:function(){var t=this;Object(n["I"])(this.ruleForm).then((function(){t.$message("教师信息修改成功")})).catch((function(e){console.log(e),t.$message("教师信息修改失败")}))},edit:function(){var t=this;this.isTable=!1,setTimeout((function(){t.isForm=!0}),400)},returnback:function(){var t=this;this.isForm=!1,setTimeout((function(){t.isTable=!0,t.returnData()}),400)},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t&&(e.setToDB(),e.isForm=!1,setTimeout((function(){e.isTable=!0,e.updateData()}),400),e.$alert("编辑成功！",{confirmButtonText:"确定",callback:function(t){"confirm"===t&&e.$message({type:"success",message:"编辑成功"})}}))}))}}},i=r,s=(a("63bf"),a("2877")),c=Object(s["a"])(i,o,l,!1,null,"0db9d69c",null);e["default"]=c.exports},"63bf":function(t,e,a){"use strict";a("9a7c")},"9a7c":function(t,e,a){},b0c0:function(t,e,a){var o=a("83ab"),l=a("5e77").EXISTS,n=a("e330"),r=a("9bf2").f,i=Function.prototype,s=n(i.toString),c=/^\s*function ([^ (]*)/,u=n(c.exec),m="name";o&&!l&&r(i,m,{configurable:!0,get:function(){try{return u(c,s(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-c9462870.d583dcef.js.map